<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RADAR ‚Äî DEX Intelligence Terminal</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;0,9..40,800&family=Azeret+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg-deep: #080b12;
  --bg-primary: #0b0f18;
  --bg-card: #0f1420;
  --bg-card-hover: #141a28;
  --bg-elevated: #151c2b;
  --border-subtle: rgba(255,255,255,0.04);
  --border-default: rgba(255,255,255,0.07);
  --border-active: rgba(255,255,255,0.12);
  --text-primary: #eaf0f6;
  --text-secondary: #8294ab;
  --text-tertiary: #4d6178;
  --text-muted: #344052;
  --accent: #00dba4;
  --accent-dim: rgba(0, 219, 164, 0.12);
  --accent-glow: rgba(0, 219, 164, 0.25);
  --accent-bright: #2fffc2;
  --red: #ff4d6a;
  --red-dim: rgba(255, 77, 106, 0.12);
  --blue: #4da6ff;
  --blue-dim: rgba(77, 166, 255, 0.12);
  --orange: #ffaa33;
  --orange-dim: rgba(255, 170, 51, 0.12);
  --purple: #a78bfa;
  --purple-dim: rgba(167, 139, 250, 0.12);
  --yellow: #ffd166;
  --warm-glow: radial-gradient(ellipse at 20% 0%, rgba(0,219,164,0.06) 0%, transparent 60%),
               radial-gradient(ellipse at 80% 100%, rgba(77,166,255,0.04) 0%, transparent 50%);
  --font-body: 'DM Sans', -apple-system, sans-serif;
  --font-mono: 'Azeret Mono', monospace;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --shadow-card: 0 2px 8px rgba(0,0,0,0.3), 0 0 1px rgba(255,255,255,0.05);
  --shadow-glow: 0 0 40px rgba(0, 219, 164, 0.08);
  --transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}
* { margin: 0; padding: 0; box-sizing: border-box; }
html { font-size: 14px; -webkit-font-smoothing: antialiased; }
body {
  font-family: var(--font-body);
  background: var(--bg-deep);
  color: var(--text-primary);
  overflow-x: hidden; min-height: 100vh;
  background-image: var(--warm-glow);
  background-attachment: fixed;
}
body::before {
  content: ''; position: fixed; top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: radial-gradient(circle at 30% 20%, rgba(0,219,164,0.03) 0%, transparent 40%),
              radial-gradient(circle at 70% 80%, rgba(77,166,255,0.02) 0%, transparent 40%);
  animation: ambientShift 20s ease-in-out infinite alternate;
  pointer-events: none; z-index: 0;
}
@keyframes ambientShift { 0%{transform:translate(0,0) scale(1)} 100%{transform:translate(-3%,-2%) scale(1.05)} }
::-webkit-scrollbar{width:5px;height:5px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.08);border-radius:10px}

/* ===== HEADER ===== */
.header{position:sticky;top:0;z-index:100;display:flex;align-items:center;justify-content:space-between;padding:0 24px;height:60px;background:rgba(8,11,18,0.85);backdrop-filter:blur(24px) saturate(1.4);border-bottom:1px solid var(--border-subtle);animation:slideDown .6s ease-out}
@keyframes slideDown{from{transform:translateY(-100%);opacity:0}}
.logo-area{display:flex;align-items:center;gap:14px}
.logo-mark{width:36px;height:36px;position:relative;display:flex;align-items:center;justify-content:center}
.logo-mark .ring{position:absolute;inset:0;border-radius:50%;border:2px solid transparent;border-top-color:var(--accent);border-right-color:rgba(0,219,164,0.3);animation:spin 3s linear infinite}
.logo-mark .ring:nth-child(2){inset:4px;border-top-color:var(--blue);border-right-color:rgba(77,166,255,0.2);animation-duration:5s;animation-direction:reverse}
.logo-mark .core{width:8px;height:8px;border-radius:50%;background:var(--accent);box-shadow:0 0 12px var(--accent-glow);z-index:1}
@keyframes spin{to{transform:rotate(360deg)}}
.logo-text{font-family:var(--font-body);font-weight:800;font-size:1.4rem;letter-spacing:4px;background:linear-gradient(135deg,var(--accent-bright),var(--blue));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.logo-tag{font-family:var(--font-mono);font-size:.6rem;color:var(--accent);border:1px solid var(--accent-dim);padding:2px 8px;border-radius:20px;letter-spacing:1.5px;background:var(--accent-dim)}
.search-wrapper{flex:0 1 480px}
.search-bar{display:flex;align-items:center;gap:10px;background:var(--bg-card);border:1px solid var(--border-default);border-radius:24px;padding:0 18px;height:40px;transition:all .3s ease}
.search-bar:focus-within{border-color:rgba(0,219,164,0.3);box-shadow:0 0 0 3px rgba(0,219,164,0.08),var(--shadow-glow);background:var(--bg-elevated)}
.search-bar svg{flex-shrink:0;opacity:.4;transition:opacity var(--transition)}
.search-bar:focus-within svg{opacity:.7}
.search-bar input{flex:1;background:none;border:none;outline:none;color:var(--text-primary);font-family:var(--font-body);font-size:.9rem}
.search-bar input::placeholder{color:var(--text-tertiary)}
.search-key{font-family:var(--font-mono);font-size:.6rem;color:var(--text-tertiary);border:1px solid var(--border-default);padding:2px 8px;border-radius:6px;background:var(--bg-deep)}
.header-right{display:flex;align-items:center;gap:10px}
.hdr-btn{background:var(--bg-card);border:1px solid var(--border-default);color:var(--text-secondary);padding:8px 16px;border-radius:24px;font-family:var(--font-body);font-size:.8rem;font-weight:500;cursor:pointer;transition:all var(--transition);display:flex;align-items:center;gap:6px}
.hdr-btn:hover{border-color:var(--border-active);color:var(--text-primary);background:var(--bg-card-hover);transform:translateY(-1px)}
.hdr-btn.glow{background:linear-gradient(135deg,var(--accent),#00c9a7);border-color:transparent;color:var(--bg-deep);font-weight:700;box-shadow:0 2px 16px rgba(0,219,164,0.25)}
.hdr-btn.glow:hover{box-shadow:0 4px 24px rgba(0,219,164,0.35);transform:translateY(-2px)}
.notif-dot{width:7px;height:7px;border-radius:50%;background:var(--red);display:inline-block;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.85)}}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}}

/* ===== TICKER ===== */
.ticker-bar{display:flex;align-items:center;gap:28px;padding:0 24px;height:38px;background:rgba(11,15,24,0.6);border-bottom:1px solid var(--border-subtle);font-family:var(--font-mono);font-size:.72rem;overflow-x:auto}
.ticker-item{display:flex;align-items:center;gap:7px;white-space:nowrap}
.ticker-label{color:var(--text-muted);font-weight:500;text-transform:uppercase;letter-spacing:.5px}
.ticker-val{color:var(--text-secondary);font-weight:500}
.ticker-val.up{color:var(--accent)}.ticker-val.down{color:var(--red)}
.ticker-dot{width:6px;height:6px;border-radius:50%;background:var(--accent);box-shadow:0 0 8px var(--accent-glow);animation:pulse 2s infinite}

/* ===== NAV ===== */
.nav{display:flex;align-items:center;gap:4px;padding:8px 24px;background:rgba(11,15,24,0.4);border-bottom:1px solid var(--border-subtle);overflow-x:auto}
.nav-item{padding:8px 16px;border-radius:24px;font-size:.82rem;font-weight:500;color:var(--text-tertiary);cursor:pointer;transition:all var(--transition);white-space:nowrap;display:flex;align-items:center;gap:7px;border:1px solid transparent}
.nav-item:hover{color:var(--text-secondary);background:rgba(255,255,255,0.03)}
.nav-item.active{color:var(--accent);background:var(--accent-dim);border-color:rgba(0,219,164,0.15);font-weight:600}
.nav-badge{font-family:var(--font-mono);font-size:.55rem;font-weight:700;padding:2px 7px;border-radius:20px;letter-spacing:.5px}
.nav-badge.live{background:var(--red-dim);color:var(--red)}
.nav-badge.ai{background:linear-gradient(135deg,var(--purple-dim),var(--blue-dim));color:var(--purple)}
.nav-sep{width:1px;height:20px;background:var(--border-default);margin:0 6px;flex-shrink:0}

/* ===== FILTERS ===== */
.filters{display:flex;align-items:center;gap:10px;padding:12px 24px;background:rgba(11,15,24,0.3);border-bottom:1px solid var(--border-subtle);flex-wrap:wrap}
.chip-group{display:flex;gap:5px}
.chip{display:flex;align-items:center;gap:6px;padding:6px 14px;border-radius:20px;font-size:.78rem;font-weight:500;cursor:pointer;border:1px solid var(--border-default);color:var(--text-tertiary);transition:all var(--transition);background:transparent}
.chip:hover{border-color:var(--border-active);color:var(--text-secondary);background:rgba(255,255,255,0.02)}
.chip.active{border-color:rgba(0,219,164,0.25);color:var(--accent);background:var(--accent-dim)}
.chip .dot{width:8px;height:8px;border-radius:50%}
.tf-group{display:flex;border:1px solid var(--border-default);border-radius:20px;overflow:hidden}
.tf-btn{padding:5px 12px;font-size:.72rem;font-weight:600;color:var(--text-tertiary);cursor:pointer;border:none;background:none;font-family:var(--font-mono);transition:all var(--transition)}
.tf-btn:hover{color:var(--text-secondary);background:rgba(255,255,255,0.03)}
.tf-btn.active{color:var(--accent);background:var(--accent-dim)}
.ai-shield{margin-left:auto;display:flex;align-items:center;gap:8px;padding:6px 16px;border-radius:20px;font-size:.75rem;font-weight:600;cursor:pointer;background:linear-gradient(135deg,rgba(0,219,164,0.08),rgba(77,166,255,0.06));border:1px solid rgba(0,219,164,0.15);color:var(--accent);transition:all .3s ease}
.ai-shield:hover{border-color:rgba(0,219,164,0.3);box-shadow:0 0 20px rgba(0,219,164,0.08)}

/* ===== LAYOUT ===== */
.main{display:flex;height:calc(100vh - 210px);position:relative;z-index:1}
.content{flex:1;overflow:hidden;display:flex;flex-direction:column}
.sidebar{width:340px;border-left:1px solid var(--border-subtle);background:rgba(11,15,24,0.5);backdrop-filter:blur(12px);overflow-y:auto;animation:slideLeft .6s ease-out .3s backwards}
@keyframes slideLeft{from{transform:translateX(40px);opacity:0}}

/* ===== TABLE ===== */
.table-wrap{flex:1;overflow-y:auto;overflow-x:auto}
table{width:100%;border-collapse:collapse}
thead th{position:sticky;top:0;z-index:10;padding:12px 14px;text-align:left;font-family:var(--font-mono);font-size:.65rem;font-weight:600;color:var(--text-muted);background:rgba(8,11,18,0.95);backdrop-filter:blur(8px);border-bottom:1px solid var(--border-default);letter-spacing:1px;text-transform:uppercase;cursor:pointer;white-space:nowrap;transition:color var(--transition)}
thead th:hover{color:var(--text-tertiary)}
tbody tr{border-bottom:1px solid var(--border-subtle);transition:all var(--transition);cursor:pointer;animation:rowIn .4s ease-out backwards}
@keyframes rowIn{from{opacity:0;transform:translateX(-8px)}}
tbody tr:hover{background:rgba(255,255,255,0.025)}
tbody tr:hover td:first-child::before{content:'';position:absolute;left:0;top:0;bottom:0;width:2px;background:var(--accent);border-radius:0 2px 2px 0}
td{padding:14px;white-space:nowrap;font-size:.85rem;position:relative}

/* Token cell with image */
.tk{display:flex;align-items:center;gap:12px}
.tk-img{width:36px;height:36px;border-radius:var(--radius-sm);object-fit:cover;border:1px solid var(--border-default);box-shadow:var(--shadow-card);transition:all var(--transition);background:var(--bg-elevated)}
.tk-img-fallback{width:36px;height:36px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.75rem;color:rgba(255,255,255,0.85);border:1px solid var(--border-default);box-shadow:var(--shadow-card);transition:all var(--transition)}
tr:hover .tk-img, tr:hover .tk-img-fallback{border-color:var(--border-active);transform:scale(1.08)}
.tk-name{font-weight:600;font-size:.9rem;display:flex;align-items:center;gap:7px}
.tk-name .chain-dot{width:6px;height:6px;border-radius:3px}
.tk-sub{font-family:var(--font-mono);color:var(--text-muted);font-size:.68rem;margin-top:2px}
.new-tag{font-family:var(--font-mono);font-size:.55rem;font-weight:700;padding:1px 6px;border-radius:4px;background:var(--accent-dim);color:var(--accent);letter-spacing:.5px;animation:pulse 2s infinite}
.verified-badge{display:inline-flex;align-items:center;justify-content:center;width:14px;height:14px;border-radius:50%;background:var(--blue);font-size:8px;color:white;flex-shrink:0}

.rank{font-family:var(--font-mono);font-weight:700;font-size:.8rem;color:var(--text-muted)}
.rank.gold{color:var(--yellow);text-shadow:0 0 8px rgba(255,209,102,0.3)}
.price{font-family:var(--font-mono);font-weight:600}
.chg{font-family:var(--font-mono);font-weight:600;font-size:.82rem}
.chg.up{color:var(--accent)}.chg.down{color:var(--red)}
.muted{font-family:var(--font-mono);color:var(--text-tertiary);font-weight:500}

.ai-score{display:flex;align-items:center;gap:8px}
.ai-bar{width:48px;height:5px;border-radius:10px;background:rgba(255,255,255,0.05);overflow:hidden}
.ai-fill{height:100%;border-radius:10px;transition:width .8s ease}
.ai-fill.high{background:linear-gradient(90deg,var(--accent),var(--accent-bright))}
.ai-fill.mid{background:linear-gradient(90deg,var(--orange),#ffcc66)}
.ai-fill.low{background:linear-gradient(90deg,var(--red),#ff7788)}
.ai-num{font-family:var(--font-mono);font-size:.75rem;font-weight:700}
.ai-num.high{color:var(--accent)}.ai-num.mid{color:var(--orange)}.ai-num.low{color:var(--red)}

.spark{width:88px;height:32px}
.spark svg{width:100%;height:100%}

.safety{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:20px;font-family:var(--font-mono);font-size:.62rem;font-weight:700;letter-spacing:.3px}
.safety.safe{background:var(--accent-dim);color:var(--accent)}
.safety.warn{background:var(--orange-dim);color:var(--orange)}
.safety.danger{background:var(--red-dim);color:var(--red)}

.qt{display:flex;gap:5px;opacity:0;transition:opacity var(--transition)}
tr:hover .qt{opacity:1}
.qt-btn{padding:5px 12px;border-radius:20px;font-family:var(--font-body);font-size:.7rem;font-weight:700;border:none;cursor:pointer;transition:all var(--transition)}
.qt-buy{background:var(--accent-dim);color:var(--accent)}.qt-buy:hover{background:var(--accent);color:var(--bg-deep);box-shadow:0 0 16px var(--accent-glow)}
.qt-sell{background:var(--red-dim);color:var(--red)}.qt-sell:hover{background:var(--red);color:white}

/* ===== SIDEBAR ===== */
.sb-section{padding:20px;border-bottom:1px solid var(--border-subtle)}
.sb-title{font-weight:700;font-size:.85rem;color:var(--text-primary);margin-bottom:14px;display:flex;align-items:center;gap:8px}
.sb-title .ico{font-size:1.05rem}

.insight{border-radius:var(--radius-md);padding:14px;margin-bottom:10px;border:1px solid;transition:all var(--transition);position:relative;overflow:hidden}
.insight::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;opacity:.03;background:radial-gradient(circle at 0% 0%,currentColor,transparent 70%)}
.insight:hover{transform:translateY(-1px)}
.insight.trend{background:rgba(0,219,164,0.04);border-color:rgba(0,219,164,0.12);color:var(--accent)}
.insight.whale{background:rgba(77,166,255,0.04);border-color:rgba(77,166,255,0.12);color:var(--blue)}
.insight.warning{background:rgba(255,77,106,0.04);border-color:rgba(255,77,106,0.12);color:var(--red)}
.insight-head{font-family:var(--font-mono);font-size:.65rem;font-weight:700;letter-spacing:.5px;margin-bottom:8px;display:flex;align-items:center;gap:6px}
.insight-body{font-size:.8rem;line-height:1.55;color:var(--text-secondary);position:relative;z-index:1}
.insight-body strong{color:var(--accent);font-weight:600}
.insight-body .red-hl{color:var(--red);font-weight:600}

.heatmap{display:grid;grid-template-columns:repeat(4,1fr);gap:5px}
.heat{aspect-ratio:1;border-radius:var(--radius-sm);display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition);overflow:hidden}
.heat:hover{transform:scale(1.08);z-index:1;box-shadow:0 4px 16px rgba(0,0,0,0.4)}
.heat .h-name{font-family:var(--font-mono);font-size:.58rem;font-weight:600;color:rgba(255,255,255,0.85);margin-bottom:2px}
.heat .h-val{font-family:var(--font-mono);font-size:.72rem;font-weight:800;color:white}

.wallet-row{display:flex;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid var(--border-subtle);transition:all var(--transition)}
.wallet-row:last-child{border:none}
.wallet-row:hover{padding-left:4px}
.wallet-avi{width:32px;height:32px;border-radius:var(--radius-sm);background:linear-gradient(135deg,var(--bg-elevated),var(--bg-card));border:1px solid var(--border-default);display:flex;align-items:center;justify-content:center;font-size:.85rem}
.wallet-info{flex:1}
.wallet-addr{font-family:var(--font-mono);font-size:.75rem;font-weight:600;color:var(--text-primary)}
.wallet-act{font-size:.68rem;margin-top:2px;font-weight:500}
.wallet-act.buy{color:var(--accent)}.wallet-act.sell{color:var(--red)}
.wallet-pnl{font-family:var(--font-mono);font-size:.78rem;font-weight:700}
.wallet-pnl.up{color:var(--accent)}.wallet-pnl.down{color:var(--red)}

.feed{max-height:220px;overflow-y:auto}
.feed-row{display:flex;align-items:center;gap:8px;padding:7px 0;font-size:.75rem;border-bottom:1px solid var(--border-subtle);animation:feedIn .35s ease-out}
@keyframes feedIn{from{opacity:0;transform:translateX(-10px)}}
.feed-time{font-family:var(--font-mono);font-size:.62rem;color:var(--text-muted);width:40px;flex-shrink:0}
.feed-type{font-weight:700;font-size:.7rem}.feed-type.buy{color:var(--accent)}.feed-type.sell{color:var(--red)}
.feed-tok{font-weight:600;color:var(--text-primary)}
.feed-amt{margin-left:auto;font-family:var(--font-mono);color:var(--text-tertiary);font-weight:500}

/* ===== MODAL ===== */
.overlay{position:fixed;inset:0;z-index:1000;background:rgba(0,0,0,0.75);backdrop-filter:blur(16px);display:none;align-items:center;justify-content:center}
.overlay.active{display:flex}
.modal{width:94vw;max-width:1260px;height:88vh;background:var(--bg-primary);border:1px solid var(--border-default);border-radius:var(--radius-xl);overflow:hidden;display:flex;flex-direction:column;box-shadow:0 24px 80px rgba(0,0,0,0.6),0 0 1px rgba(255,255,255,0.1);animation:modalIn .35s cubic-bezier(0.16,1,0.3,1)}
@keyframes modalIn{from{opacity:0;transform:scale(0.95) translateY(20px)}}

/* Modal Header with Banner */
.modal-banner{height:120px;position:relative;overflow:hidden;border-bottom:1px solid var(--border-subtle)}
.modal-banner-bg{position:absolute;inset:0;background-size:cover;background-position:center;filter:brightness(0.5) saturate(1.3)}
.modal-banner-overlay{position:absolute;inset:0;background:linear-gradient(to top,var(--bg-primary),transparent 60%)}
.unclaimed-banner{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--bg-card),var(--bg-elevated))}
.unclaimed-banner-text{font-size:.8rem;color:var(--text-muted);display:flex;align-items:center;gap:8px}
.claim-banner-btn{padding:6px 16px;border-radius:20px;background:var(--accent-dim);border:1px solid rgba(0,219,164,0.2);color:var(--accent);font-size:.75rem;font-weight:600;cursor:pointer;transition:all var(--transition);font-family:var(--font-body)}
.claim-banner-btn:hover{background:var(--accent);color:var(--bg-deep);box-shadow:0 0 16px var(--accent-glow)}

.modal-head{display:flex;align-items:center;justify-content:space-between;padding:16px 24px;position:relative;z-index:2;margin-top:-44px}
.modal-tk{display:flex;align-items:center;gap:14px}
.modal-icon{width:56px;height:56px;border-radius:var(--radius-md);object-fit:cover;border:3px solid var(--bg-primary);box-shadow:var(--shadow-card);background:var(--bg-elevated)}
.modal-icon-fallback{width:56px;height:56px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:800;border:3px solid var(--bg-primary);box-shadow:var(--shadow-card)}
.modal-name{font-weight:700;font-size:1.25rem;display:flex;align-items:center;gap:8px}
.modal-pair{font-family:var(--font-mono);color:var(--text-muted);font-size:.75rem;margin-top:2px}
.modal-price-wrap{margin-left:24px}
.modal-price{font-family:var(--font-mono);font-size:1.5rem;font-weight:700}
.modal-chg{font-family:var(--font-mono);font-size:.9rem;font-weight:600;margin-left:10px}
.modal-chg.up{color:var(--accent)}.modal-chg.down{color:var(--red)}
.close-btn{background:var(--bg-card);border:1px solid var(--border-default);color:var(--text-tertiary);width:40px;height:40px;border-radius:50%;cursor:pointer;font-size:1.1rem;display:flex;align-items:center;justify-content:center;transition:all var(--transition);position:relative;z-index:2;margin-top:44px}
.close-btn:hover{border-color:var(--red);color:var(--red);background:var(--red-dim)}

/* Social Links Bar */
.social-bar{display:flex;align-items:center;gap:8px;padding:10px 24px;border-bottom:1px solid var(--border-subtle);flex-wrap:wrap}
.social-link{display:flex;align-items:center;gap:5px;padding:5px 12px;border-radius:20px;font-size:.72rem;font-weight:500;color:var(--text-tertiary);border:1px solid var(--border-default);transition:all var(--transition);text-decoration:none;cursor:pointer}
.social-link:hover{color:var(--text-primary);border-color:var(--border-active);background:rgba(255,255,255,0.03)}
.social-link.empty{border-style:dashed;opacity:.5}
.social-link.empty:hover{opacity:.8;border-color:var(--accent);color:var(--accent)}
.social-sep{flex:1}
.claim-profile-btn{display:flex;align-items:center;gap:6px;padding:6px 18px;border-radius:20px;font-size:.78rem;font-weight:700;cursor:pointer;background:linear-gradient(135deg,rgba(167,139,250,0.1),rgba(77,166,255,0.08));border:1px solid rgba(167,139,250,0.2);color:var(--purple);transition:all .3s ease;font-family:var(--font-body)}
.claim-profile-btn:hover{border-color:var(--purple);box-shadow:0 0 20px var(--purple-dim);transform:translateY(-1px)}

.modal-content{flex:1;display:flex;overflow:hidden}
.modal-chart{flex:1;padding:24px;display:flex;flex-direction:column}
.chart-area{flex:1;border-radius:var(--radius-lg);background:#0f1420;border:1px solid var(--border-subtle);overflow:hidden;position:relative;min-height:400px}
.chart-area iframe{width:100%!important;height:100%!important;border:none!important;border-radius:var(--radius-lg)}
.chart-loading{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;color:var(--text-muted);font-size:.85rem;z-index:2;background:#0f1420}
.chart-loading .spinner{width:28px;height:28px;border-radius:50%;border:3px solid var(--border-default);border-top-color:var(--accent);animation:spin 1s linear infinite}

.modal-side{width:370px;border-left:1px solid var(--border-subtle);overflow-y:auto;padding:20px;background:rgba(255,255,255,0.01)}

/* Trade Panel */
.trade-box{background:var(--bg-card);border:1px solid var(--border-default);border-radius:var(--radius-lg);padding:18px;margin-bottom:16px}
.trade-tabs{display:flex;gap:5px;margin-bottom:16px}
.t-tab{flex:1;padding:10px;text-align:center;border-radius:var(--radius-sm);font-size:.85rem;font-weight:700;cursor:pointer;border:1px solid var(--border-default);color:var(--text-tertiary);transition:all var(--transition)}
.t-tab.buy-active{background:var(--accent-dim);border-color:rgba(0,219,164,0.2);color:var(--accent)}
.t-tab.sell-active{background:var(--red-dim);border-color:rgba(255,77,106,0.2);color:var(--red)}
.presets{display:grid;grid-template-columns:repeat(4,1fr);gap:5px;margin-bottom:14px}
.preset{padding:8px;text-align:center;border-radius:var(--radius-sm);font-family:var(--font-mono);font-size:.72rem;font-weight:600;cursor:pointer;background:rgba(255,255,255,0.03);border:1px solid var(--border-default);color:var(--text-tertiary);transition:all var(--transition)}
.preset:hover{border-color:rgba(0,219,164,0.2);color:var(--accent);background:var(--accent-dim)}
.input-group{margin-bottom:12px}
.input-label{font-family:var(--font-mono);font-size:.65rem;font-weight:600;color:var(--text-muted);margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}
.trade-input{width:100%;padding:12px 16px;border-radius:var(--radius-sm);border:1px solid var(--border-default);background:var(--bg-deep);color:var(--text-primary);font-family:var(--font-mono);font-size:1rem;font-weight:600;outline:none;transition:all var(--transition)}
.trade-input:focus{border-color:rgba(0,219,164,0.3);box-shadow:0 0 0 3px rgba(0,219,164,0.06)}
.exec-btn{width:100%;padding:14px;border-radius:var(--radius-sm);border:none;font-family:var(--font-body);font-size:.95rem;font-weight:800;cursor:pointer;transition:all var(--transition);display:flex;align-items:center;justify-content:center;gap:8px}
.exec-btn.buy{background:linear-gradient(135deg,var(--accent),#00c9a7);color:var(--bg-deep);box-shadow:0 4px 20px rgba(0,219,164,0.2)}
.exec-btn.buy:hover{box-shadow:0 6px 30px rgba(0,219,164,0.35);transform:translateY(-1px)}

/* AI Analysis */
.ai-box{border-radius:var(--radius-lg);padding:18px;background:linear-gradient(135deg,rgba(167,139,250,0.04),rgba(77,166,255,0.03));border:1px solid rgba(167,139,250,0.1);margin-bottom:16px}
.ai-box-title{font-weight:800;font-size:.85rem;background:linear-gradient(135deg,var(--purple),var(--blue));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:14px;display:flex;align-items:center;gap:8px}
.ai-row{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.03)}
.ai-row:last-child{border:none}
.ai-row-label{font-size:.76rem;color:var(--text-tertiary)}
.ai-row-val{font-family:var(--font-mono);font-size:.76rem;font-weight:700}
.dist{margin-top:14px}
.dist-row{display:flex;align-items:center;gap:10px;margin-bottom:8px}
.dist-label{font-family:var(--font-mono);font-size:.65rem;color:var(--text-muted);width:48px}
.dist-bar{flex:1;height:6px;border-radius:10px;background:rgba(255,255,255,0.04);overflow:hidden}
.dist-fill{height:100%;border-radius:10px;transition:width 1.2s ease}
.dist-pct{font-family:var(--font-mono);font-size:.65rem;color:var(--text-tertiary);width:30px;text-align:right}

/* ===== CLAIM PROFILE MODAL ===== */
.claim-overlay{position:fixed;inset:0;z-index:2000;background:rgba(0,0,0,0.8);backdrop-filter:blur(20px);display:none;align-items:center;justify-content:center}
.claim-overlay.active{display:flex}
.claim-modal{width:680px;max-width:95vw;max-height:90vh;overflow-y:auto;background:var(--bg-primary);border:1px solid var(--border-default);border-radius:var(--radius-xl);padding:0;box-shadow:0 24px 80px rgba(0,0,0,0.6);animation:modalIn .35s cubic-bezier(0.16,1,0.3,1)}

.claim-header{padding:28px 28px 20px;border-bottom:1px solid var(--border-subtle)}
.claim-title{font-size:1.4rem;font-weight:800;margin-bottom:4px}
.claim-subtitle{color:var(--text-tertiary);font-size:.88rem;line-height:1.5}

/* Pricing Cards */
.pricing-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:24px 28px}
.pricing-card{border-radius:var(--radius-lg);padding:20px;border:1px solid var(--border-default);background:var(--bg-card);transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden}
.pricing-card:hover{transform:translateY(-4px);border-color:var(--border-active)}
.pricing-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;border-radius:3px 3px 0 0}
.pricing-card.free::before{background:var(--accent)}
.pricing-card.pro::before{background:linear-gradient(90deg,var(--blue),var(--purple))}
.pricing-card.boost::before{background:linear-gradient(90deg,var(--yellow),var(--orange))}
.pricing-card.popular{border-color:rgba(77,166,255,0.25)}
.pricing-card.popular:hover{border-color:var(--blue);box-shadow:0 0 30px var(--blue-dim)}
.popular-tag{position:absolute;top:12px;right:12px;font-family:var(--font-mono);font-size:.55rem;font-weight:700;padding:2px 8px;border-radius:20px;background:var(--blue-dim);color:var(--blue);letter-spacing:.5px}
.card-name{font-weight:800;font-size:1rem;margin-bottom:4px;display:flex;align-items:center;gap:8px}
.card-price{font-family:var(--font-mono);font-weight:800;margin-bottom:2px}
.card-price .amount{font-size:1.6rem}
.card-price .period{font-size:.7rem;color:var(--text-tertiary);font-weight:500}
.card-price .free-label{font-size:1.6rem;color:var(--accent)}
.card-desc{font-size:.78rem;color:var(--text-tertiary);margin-bottom:16px;line-height:1.4;min-height:40px}
.card-features{list-style:none;margin-bottom:18px}
.card-features li{display:flex;align-items:flex-start;gap:8px;font-size:.78rem;color:var(--text-secondary);padding:4px 0}
.card-features li .check{color:var(--accent);font-weight:700;flex-shrink:0}
.card-features li .x-mark{color:var(--text-muted);flex-shrink:0}
.card-btn{width:100%;padding:12px;border-radius:var(--radius-sm);border:none;font-family:var(--font-body);font-size:.85rem;font-weight:700;cursor:pointer;transition:all var(--transition);text-align:center}
.card-btn.free-btn{background:var(--accent-dim);color:var(--accent);border:1px solid rgba(0,219,164,0.15)}
.card-btn.free-btn:hover{background:var(--accent);color:var(--bg-deep)}
.card-btn.pro-btn{background:linear-gradient(135deg,var(--blue),var(--purple));color:white;box-shadow:0 2px 16px rgba(77,166,255,0.2)}
.card-btn.pro-btn:hover{box-shadow:0 4px 24px rgba(77,166,255,0.35);transform:translateY(-1px)}
.card-btn.boost-btn{background:linear-gradient(135deg,var(--yellow),var(--orange));color:var(--bg-deep);box-shadow:0 2px 16px rgba(255,170,51,0.2)}
.card-btn.boost-btn:hover{box-shadow:0 4px 24px rgba(255,170,51,0.35);transform:translateY(-1px)}

/* Community fund section */
.community-section{padding:20px 28px 28px;border-top:1px solid var(--border-subtle);margin-top:4px}
.community-card{border-radius:var(--radius-lg);padding:20px;background:linear-gradient(135deg,rgba(0,219,164,0.04),rgba(77,166,255,0.03));border:1px solid rgba(0,219,164,0.12)}
.community-title{font-weight:800;font-size:.95rem;margin-bottom:6px;display:flex;align-items:center;gap:8px}
.community-desc{font-size:.8rem;color:var(--text-secondary);line-height:1.5;margin-bottom:14px}
.fund-progress{margin-bottom:10px}
.fund-bar-bg{height:10px;border-radius:10px;background:rgba(255,255,255,0.05);overflow:hidden;margin-bottom:6px}
.fund-bar-fill{height:100%;border-radius:10px;background:linear-gradient(90deg,var(--accent),var(--blue));transition:width 1.5s ease}
.fund-stats{display:flex;justify-content:space-between;font-family:var(--font-mono);font-size:.68rem}
.fund-raised{color:var(--accent);font-weight:600}
.fund-goal{color:var(--text-muted)}
.fund-contributors{display:flex;align-items:center;gap:4px;margin-top:10px}
.fund-avi{width:24px;height:24px;border-radius:50%;border:2px solid var(--bg-primary);margin-left:-8px;font-size:.55rem;display:flex;align-items:center;justify-content:center;font-weight:700;color:white}
.fund-avi:first-child{margin-left:0}
.fund-count{font-family:var(--font-mono);font-size:.7rem;color:var(--text-tertiary);margin-left:8px}
.contribute-btn{margin-top:14px;padding:10px 20px;border-radius:var(--radius-sm);border:1px solid rgba(0,219,164,0.2);background:var(--accent-dim);color:var(--accent);font-family:var(--font-body);font-size:.82rem;font-weight:700;cursor:pointer;transition:all var(--transition)}
.contribute-btn:hover{background:var(--accent);color:var(--bg-deep);box-shadow:0 0 16px var(--accent-glow)}

.claim-close{position:absolute;top:20px;right:20px;background:var(--bg-card);border:1px solid var(--border-default);color:var(--text-tertiary);width:36px;height:36px;border-radius:50%;cursor:pointer;font-size:1rem;display:flex;align-items:center;justify-content:center;transition:all var(--transition);z-index:1}
.claim-close:hover{border-color:var(--red);color:var(--red);background:var(--red-dim)}

/* Comparison to DS */
.comparison{padding:0 28px 24px}
.comparison-note{display:flex;align-items:center;gap:10px;padding:12px 16px;border-radius:var(--radius-md);background:rgba(255,209,102,0.05);border:1px solid rgba(255,209,102,0.12);font-size:.78rem;color:var(--text-secondary);line-height:1.4}
.comparison-note strong{color:var(--yellow)}

@media(max-width:1200px){.sidebar{width:300px}}
@media(max-width:960px){.sidebar{display:none}.search-wrapper{flex:0 1 300px}}
@media(max-width:700px){.pricing-cards{grid-template-columns:1fr}}
</style>
</head>
<body>

<!-- HEADER -->
<header class="header">
  <div class="logo-area">
    <div class="logo-mark"><div class="ring"></div><div class="ring"></div><div class="core"></div></div>
    <span class="logo-text">RADAR</span>
    <span class="logo-tag">BETA</span>
  </div>
  <div class="search-wrapper">
    <div class="search-bar">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      <input type="text" placeholder="Search tokens, pairs, or wallets..." />
      <span class="search-key">‚åòK</span>
    </div>
  </div>
  <div class="header-right">
    <button class="hdr-btn"><span class="notif-dot"></span> Alerts</button>
    <button class="hdr-btn">üìä Portfolio</button>
    <button class="hdr-btn glow">Connect Wallet</button>
  </div>
</header>

<!-- TICKER -->
<div class="ticker-bar">
  <div class="ticker-item"><span class="ticker-dot"></span><span class="ticker-label">Live</span></div>
  <div class="ticker-item"><span class="ticker-label">24h Vol</span><span id="tk-vol"><span class="ticker-val">Loading...</span></span></div>
  <div class="ticker-item"><span class="ticker-label">Tokens</span><span id="tk-pairs"><span class="ticker-val">‚Äî</span></span></div>
  <div class="ticker-item"><span class="ticker-label">SOL</span><span id="tk-sol"><span class="ticker-val">Loading...</span></span></div>
  <div class="ticker-item"><span class="ticker-label">ETH</span><span id="tk-eth"><span class="ticker-val">Loading...</span></span></div>
  <div class="ticker-item"><span class="ticker-label">BTC</span><span id="tk-btc"><span class="ticker-val">Loading...</span></span></div>
</div>

<!-- NAV -->
<nav class="nav">
  <div class="nav-item active">üî• Trending</div>
  <div class="nav-item">‚ö° New Pairs <span class="nav-badge live">LIVE</span></div>
  <div class="nav-item">üìà Gainers</div>
  <div class="nav-item">üìâ Losers</div>
  <div class="nav-sep"></div>
  <div class="nav-item">üêã Whale Watch <span class="nav-badge ai">AI</span></div>
  <div class="nav-item">üß† AI Scanner <span class="nav-badge ai">AI</span></div>
  <div class="nav-item">üìä Multicharts</div>
  <div class="nav-sep"></div>
  <div class="nav-item">üöÄ Launchpad</div>
  <div class="nav-item">üë• Copy Trade</div>
  <div class="nav-item">‚≠ê Watchlist</div>
</nav>

<!-- FILTERS -->
<div class="filters">
  <div class="chip-group">
    <div class="chip active"><span class="dot" style="background:var(--accent)"></span> All Chains</div>
    <div class="chip"><span class="dot" style="background:#9945ff"></span> Solana</div>
    <div class="chip"><span class="dot" style="background:#627eea"></span> Ethereum</div>
    <div class="chip"><span class="dot" style="background:#2b6def"></span> Base</div>
    <div class="chip"><span class="dot" style="background:#f0b90b"></span> BSC</div>
    <div class="chip"><span class="dot" style="background:#0098ea"></span> TON</div>
  </div>
  <div class="nav-sep"></div>
  <div class="tf-group">
    <button class="tf-btn">5M</button>
    <button class="tf-btn">1H</button>
    <button class="tf-btn active">6H</button>
    <button class="tf-btn">24H</button>
  </div>
  <div class="nav-sep"></div>
  <div class="chip-group"><div class="chip">Vol &gt; $100K</div><div class="chip">Liq &gt; $50K</div></div>
  <div class="ai-shield"><span>üõ°Ô∏è</span> AI Shield ‚Äî Rug Filter ON</div>
</div>

<!-- MAIN -->
<div class="main">
  <div class="content">
    <div class="table-wrap">
      <table>
        <thead><tr>
          <th style="width:44px" title="RADAR Score: Volume 35% + Momentum 25% + Liquidity 20% + AI Safety 15% + New Bonus 5%">#</th><th>Token</th><th>Price</th><th>AI Score</th><th>Chart</th>
          <th>5M</th><th>1H</th><th>6H</th><th>24H</th><th>Volume</th><th>Liquidity</th><th>MCAP</th><th>Safety</th><th></th>
        </tr></thead>
        <tbody id="tbody"></tbody>
      </table>
    </div>
  </div>
  <aside class="sidebar">
    <div class="sb-section">
      <div class="sb-title"><span class="ico">üß†</span> AI Radar Insights</div>
      <div class="insight trend"><div class="insight-head">‚ö° TREND ALERT ‚Äî 2 min ago</div><div class="insight-body"><strong>$ANONYMOUS</strong> seeing unusual cluster buying from 12 wallets linked to a known alpha group. Volume spike 340% in 15 min.</div></div>
      <div class="insight whale"><div class="insight-head">üêã WHALE MOVE ‚Äî 8 min ago</div><div class="insight-body">Top Solana whale <strong>7xK2...mP9f</strong> opened a $420K position in <strong>$BUTTCOIN</strong>. 78% win rate over 90 days.</div></div>
      <div class="insight warning"><div class="insight-head">‚ö†Ô∏è RUG WARNING ‚Äî 14 min ago</div><div class="insight-body"><span class="red-hl">$SAFEMARS</span> dev wallet shows LP removal setup. AI confidence: <span class="red-hl">92% rug probability</span>.</div></div>
    </div>
    <div class="sb-section"><div class="sb-title"><span class="ico">üî•</span> Trend Heatmap</div><div class="heatmap" id="heatmap"></div></div>
    <div class="sb-section"><div class="sb-title"><span class="ico">üêã</span> Smart Money Flow</div><div id="wallets"></div></div>
    <div class="sb-section"><div class="sb-title"><span class="ico">‚ö°</span> Live Feed</div><div class="feed" id="feed"></div></div>
  </aside>
</div>

<!-- TOKEN DETAIL MODAL -->
<div class="overlay" id="modal">
  <div class="modal">
    <!-- Banner area -->
    <div class="modal-banner" id="modalBanner">
      <div class="unclaimed-banner" id="unclaimedBanner">
        <div class="unclaimed-banner-text">
          üñºÔ∏è No banner uploaded ‚Äî 
          <button class="claim-banner-btn" onclick="openClaim(event)">Claim This Token Profile</button>
        </div>
      </div>
    </div>

    <div style="display:flex;align-items:flex-start;justify-content:space-between;padding:0 24px">
      <div class="modal-head">
        <div class="modal-tk">
          <div class="modal-icon-fallback" id="mIcon" style="background:linear-gradient(135deg,#9945ff,#14F195)">üçë</div>
          <div>
            <div class="modal-name" id="mName">Buttcoin <span class="verified-badge" id="mVerified" style="display:none">‚úì</span></div>
            <div class="modal-pair" id="mPair">BUTT/SOL ¬∑ Solana</div>
          </div>
          <div class="modal-price-wrap">
            <span class="modal-price" id="mPrice">$0.03929</span>
            <span class="modal-chg up" id="mChg">+44.29%</span>
          </div>
        </div>
      </div>
      <button class="close-btn" onclick="closeModal()">‚úï</button>
    </div>

    <!-- Social Links -->
    <div class="social-bar" id="socialBar">
      <a class="social-link" href="#">üåê Website</a>
      <a class="social-link" href="#">ùïè Twitter</a>
      <a class="social-link" href="#">‚úàÔ∏è Telegram</a>
      <a class="social-link empty" href="#">üì∏ Instagram</a>
      <a class="social-link empty" href="#">üí¨ Discord</a>
      <div class="social-sep"></div>
      <button class="claim-profile-btn" onclick="openClaim(event)">‚ú® Claim & Edit Profile</button>
    </div>

    <div class="modal-content">
      <div class="modal-chart">
        <div class="chart-area" id="chartArea"></div>
      </div>
      <div class="modal-side">
        <div class="trade-box">
          <div class="trade-tabs">
            <div class="t-tab buy-active" onclick="setTab(this,'buy')">BUY</div>
            <div class="t-tab" onclick="setTab(this,'sell')">SELL</div>
          </div>
          <div class="presets"><div class="preset">0.1 SOL</div><div class="preset">0.5 SOL</div><div class="preset">1 SOL</div><div class="preset">5 SOL</div></div>
          <div class="input-group"><div class="input-label">Amount (SOL)</div><input class="trade-input" type="text" value="1.0" /></div>
          <button class="exec-btn buy" id="execBtn">‚ö° Quick Buy</button>
        </div>
        <div class="ai-box">
          <div class="ai-box-title">üß† AI Token Analysis</div>
          <div class="ai-row"><span class="ai-row-label">Rug Probability</span><span class="ai-row-val" style="color:var(--accent)">4% ‚Äî Low Risk</span></div>
          <div class="ai-row"><span class="ai-row-label">Holder Diversity</span><span class="ai-row-val" style="color:var(--accent)">87/100</span></div>
          <div class="ai-row"><span class="ai-row-label">Volume Authenticity</span><span class="ai-row-val" style="color:var(--orange)">72/100</span></div>
          <div class="ai-row"><span class="ai-row-label">Social Momentum</span><span class="ai-row-val" style="color:var(--accent)">Rising ‚Üë</span></div>
          <div class="ai-row"><span class="ai-row-label">Dev Wallet</span><span class="ai-row-val" style="color:var(--accent)">Renounced ‚úì</span></div>
          <div class="ai-row"><span class="ai-row-label">LP Status</span><span class="ai-row-val" style="color:var(--accent)">Burned üî•</span></div>
          <div class="dist">
            <div class="input-label" style="margin-bottom:10px">Top Holder Distribution</div>
            <div class="dist-row"><span class="dist-label">Top 10</span><div class="dist-bar"><div class="dist-fill" style="width:35%;background:var(--orange)"></div></div><span class="dist-pct">35%</span></div>
            <div class="dist-row"><span class="dist-label">Top 50</span><div class="dist-bar"><div class="dist-fill" style="width:58%;background:var(--blue)"></div></div><span class="dist-pct">58%</span></div>
            <div class="dist-row"><span class="dist-label">Others</span><div class="dist-bar"><div class="dist-fill" style="width:42%;background:var(--accent)"></div></div><span class="dist-pct">42%</span></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CLAIM PROFILE MODAL -->
<div class="claim-overlay" id="claimModal">
  <div class="claim-modal" style="position:relative">
    <button class="claim-close" onclick="closeClaim()">‚úï</button>
    <div class="claim-header">
      <div class="claim-title">‚ú® Claim Your Token Profile</div>
      <div class="claim-subtitle">Stand out from the crowd. Add your banner, links, and description ‚Äî attract more holders and build trust.</div>
    </div>

    <div class="pricing-cards">
      <!-- FREE TIER -->
      <div class="pricing-card free">
        <div class="card-name">üÜì Starter</div>
        <div class="card-price"><span class="free-label">FREE</span></div>
        <div class="card-desc">Get discovered. Basic profile to get your token looking legit.</div>
        <ul class="card-features">
          <li><span class="check">‚úì</span> Token icon upload</li>
          <li><span class="check">‚úì</span> Short description (140 chars)</li>
          <li><span class="check">‚úì</span> 2 social links (X + Telegram)</li>
          <li><span class="x-mark">‚Äî</span> No banner image</li>
          <li><span class="x-mark">‚Äî</span> No verified badge</li>
          <li><span class="x-mark">‚Äî</span> No trending boost</li>
        </ul>
        <button class="card-btn free-btn">Get Started ‚Äî Free</button>
      </div>

      <!-- PRO TIER -->
      <div class="pricing-card pro popular">
        <span class="popular-tag">MOST POPULAR</span>
        <div class="card-name">üöÄ Pro</div>
        <div class="card-price"><span class="amount">$49</span> <span class="period">one-time</span></div>
        <div class="card-desc">The full package. Everything your community needs to trust your project.</div>
        <ul class="card-features">
          <li><span class="check">‚úì</span> Custom banner image</li>
          <li><span class="check">‚úì</span> Full description + links</li>
          <li><span class="check">‚úì</span> All social links (X, TG, Discord, IG, Web)</li>
          <li><span class="check">‚úì</span> <strong style="color:var(--blue)">‚úì Verified badge</strong></li>
          <li><span class="check">‚úì</span> Edit anytime for 30 days</li>
          <li><span class="x-mark">‚Äî</span> No trending boost</li>
        </ul>
        <button class="card-btn pro-btn">Upgrade to Pro ‚Äî $49</button>
      </div>

      <!-- BOOST TIER -->
      <div class="pricing-card boost">
        <div class="card-name">‚ö° Boost</div>
        <div class="card-price"><span class="amount">$29</span> <span class="period">/ week</span></div>
        <div class="card-desc">Maximum visibility. Get your token in front of every trader on RADAR.</div>
        <ul class="card-features">
          <li><span class="check">‚úì</span> Everything in Pro</li>
          <li><span class="check">‚úì</span> <strong style="color:var(--yellow)">‚ö° Trending boost</strong></li>
          <li><span class="check">‚úì</span> Featured in "Hot Picks"</li>
          <li><span class="check">‚úì</span> Priority in search results</li>
          <li><span class="check">‚úì</span> Analytics dashboard</li>
          <li><span class="check">‚úì</span> Unlimited edits</li>
        </ul>
        <button class="card-btn boost-btn">Boost Now ‚Äî $29/wk</button>
      </div>
    </div>

    <!-- Comparison callout -->
    <div class="comparison">
      <div class="comparison-note">
        üí° <span><strong>DexScreener charges $300</strong> for a basic profile with icon + links. On RADAR, you get the same thing <strong>for free</strong> ‚Äî or get 6x more features for 6x less money.</span>
      </div>
    </div>

    <!-- Community Fund -->
    <div class="community-section">
      <div class="community-card">
        <div class="community-title">üë• Community Fund ‚Äî Let Your Holders Pay</div>
        <div class="community-desc">
          Can't afford Pro? No problem. Share a funding link with your community ‚Äî holders can chip in any amount to collectively upgrade your token's profile. When the goal is reached, the profile auto-upgrades.
        </div>
        <div class="fund-progress">
          <div class="fund-bar-bg"><div class="fund-bar-fill" style="width:68%"></div></div>
          <div class="fund-stats">
            <span class="fund-raised">$33.40 raised</span>
            <span class="fund-goal">Goal: $49 (Pro)</span>
          </div>
        </div>
        <div class="fund-contributors">
          <div class="fund-avi" style="background:#9945ff">A</div>
          <div class="fund-avi" style="background:#14F195;color:#000">B</div>
          <div class="fund-avi" style="background:#4da6ff">C</div>
          <div class="fund-avi" style="background:#ff4d6a">D</div>
          <div class="fund-avi" style="background:#ffaa33;color:#000">E</div>
          <span class="fund-count">+12 holders contributed</span>
        </div>
        <button class="contribute-btn">üí∞ Contribute to This Fund</button>
      </div>
    </div>
  </div>
</div>


<script>
// =============================================
// RADAR ‚Äî LIVE DATA ENGINE
// =============================================
// Data Sources:
//   Tokens:  DexScreener API (free, no auth, CORS-friendly)
//   Ticker:  CoinGecko API (SOL/ETH/BTC prices)
//   Charts:  DexScreener Embed (iframe, reliable)
//   Images:  DexScreener token info (per-token)
// =============================================

const gradients = [
  ['#9945ff','#14F195'], ['#ff4d6a','#ff9a56'], ['#4da6ff','#a78bfa'],
  ['#00dba4','#4da6ff'], ['#ffd166','#ff6b6b'], ['#14F195','#00dba4'],
  ['#ff6b6b','#9945ff'], ['#a78bfa','#4da6ff'], ['#ffaa33','#ff4d6a'],
  ['#627eea','#a78bfa'], ['#0098ea','#00dba4'], ['#f0b90b','#ff9a56'],
];

// Real Solana token addresses ‚Äî top memecoins & trending tokens
const TRACKED_TOKENS = [
  'EKpQGSJtjMFqKZ9KQanSqYXRcF8fBopzLHYxdM65zcjm',  // WIF
  'DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263',  // BONK
  '7GCihgDB8fe6KNjn2MYtkzZcRjQy3t9GHdC8uHYmW2hr',  // POPCAT
  '63LfDmNb3MQ8mw9MtZ2To9bEA2M71kZUUGq5tiJxcqj9',  // GIGACHAD
  '9BB6NFEcjBCtnNLFko2FqVQBq8HHM13kCyYcdQbgpump',  // FARTCOIN
  'HeLp6NuQkmYB4pYWo2zYs22mESHXPQYzXbB8n4V98jwC',  // AI16Z
  '2zMMhcVQEXDtdE6vsFS7S7D5oUodfJHE8vd1gnBouauv',  // PENGU
  '6p6xgHyF7AeE6TZkSmFsko444wqoP15icUSqi2jfGiPN',  // TRUMP
  'FUAfBo2jgks6gB4Z4LfZkqSZgzNucisEHqnNebaRxM1P',  // MELANIA
  'JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN',   // JUP
  'MEW1gQWJ3nEXg2qgERiKu7FAFj79PHvQVREQUzScPP5',   // MEW
  'rndrizKT3MK1iimdxRdWabcF7Zg7AR5T4nud4EkHBof',   // RENDER
  'KMNo3nJsBXfcpJTVhZcXLW7RmTwTt4GVFE7suUBo9sS',   // KMNO
  '3S8qX1MsMqRbiwKg2cQyx7nis1oHMgaCuc9c4VfvVdPN',  // MOTHER
  'ukHH6c7mMyiWCf1b9pnWe25TSpkDDt3H5pQZgZ74J82',   // BOME
];

let tokens = [];
let isLoading = true;

// =============================================
// API LAYER
// =============================================

async function fetchTokens() {
  try {
    // DexScreener allows comma-separated addresses (up to 30)
    const url = `https://api.dexscreener.com/latest/dex/tokens/${TRACKED_TOKENS.join(',')}`;
    const res = await fetch(url);
    const data = await res.json();

    if (!data.pairs || !data.pairs.length) {
      console.warn('No pairs returned');
      return;
    }

    // Group pairs by base token ‚Äî pick highest liquidity pair per token
    const tokenMap = {};
    data.pairs.forEach(pair => {
      if (pair.chainId !== 'solana') return;
      const addr = pair.baseToken.address;
      if (!tokenMap[addr] || (pair.liquidity?.usd || 0) > (tokenMap[addr].liquidity?.usd || 0)) {
        tokenMap[addr] = pair;
      }
    });

    // Transform into RADAR format
    tokens = Object.values(tokenMap).map(pair => {
      const ageMs = Date.now() - (pair.pairCreatedAt || Date.now());
      const ageH = Math.floor(ageMs / 3600000);
      let ageStr;
      if (ageH < 1) ageStr = Math.floor(ageMs / 60000) + 'm';
      else if (ageH < 24) ageStr = ageH + 'h';
      else if (ageH < 720) ageStr = Math.floor(ageH / 24) + 'd';
      else ageStr = Math.floor(ageH / 720) + 'mo';

      const vol24 = pair.volume?.h24 || 0;
      const liq = pair.liquidity?.usd || 0;
      const h24 = pair.priceChange?.h24 || 0;
      const h6 = pair.priceChange?.h6 || 0;
      const h1 = pair.priceChange?.h1 || 0;
      const m5 = pair.priceChange?.m5 || 0;

      // AI Safety Score ‚Äî heuristic from on-chain signals
      let ai = 50;
      if (liq > 500000) ai += 15; else if (liq > 100000) ai += 8; else if (liq < 10000) ai -= 15;
      if (vol24 > 1000000) ai += 10; else if (vol24 > 100000) ai += 5;
      if (ageH > 168) ai += 10; else if (ageH > 24) ai += 5; else if (ageH < 2) ai -= 10;
      const txns24 = (pair.txns?.h24?.buys || 0) + (pair.txns?.h24?.sells || 0);
      if (txns24 > 10000) ai += 10; else if (txns24 > 1000) ai += 5;
      const buyRatio = pair.txns?.h24?.buys / (txns24 || 1);
      if (buyRatio > 0.3 && buyRatio < 0.7) ai += 5;
      ai = Math.max(5, Math.min(98, ai));
      const safe = ai >= 70 ? 'safe' : ai >= 40 ? 'warn' : 'danger';

      return {
        name: pair.baseToken.name,
        tick: pair.baseToken.symbol,
        pair: pair.quoteToken.symbol,
        chain: 'SOL',
        cc: '#9945ff',
        p: parseFloat(pair.priceUsd) || 0,
        m5, h1, h6, h24,
        volRaw: vol24,
        liqRaw: liq,
        mcRaw: pair.marketCap || pair.fdv || 0,
        ai, safe,
        age: ageStr, ageH,
        verified: !!(pair.info?.imageUrl && pair.info?.socials?.length),
        hasBanner: !!(pair.info?.header),
        imageUrl: pair.info?.imageUrl || null,
        bannerUrl: pair.info?.header || null,
        websites: pair.info?.websites || [],
        socials: pair.info?.socials || [],
        pairAddress: pair.pairAddress,
        txns24, buyRatio,
      };
    }).filter(t => t.p > 0);

    rankTokens(tokens);
    isLoading = false;
    render();
    renderHeat();
    renderDynamicFeed();

  } catch (err) {
    console.error('Failed to fetch tokens:', err);
    document.getElementById('tbody').innerHTML = '<tr><td colspan="14" style="text-align:center;padding:40px;color:var(--red)">‚ö†Ô∏è Failed to load ‚Äî retrying...</td></tr>';
    setTimeout(fetchTokens, 5000);
  }
}

async function fetchTickerPrices() {
  try {
    const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=solana,ethereum,bitcoin&vs_currencies=usd&include_24hr_change=true');
    const d = await res.json();
    const fmt = v => v >= 1000 ? '$' + v.toLocaleString('en-US', { maximumFractionDigits: 0 }) : '$' + v.toFixed(2);
    const chgF = v => (v >= 0 ? '‚Üë' : '‚Üì') + Math.abs(v).toFixed(1) + '%';
    const cls = v => v >= 0 ? 'up' : 'down';

    if (d.solana) document.getElementById('tk-sol').innerHTML = `<span class="ticker-val ${cls(d.solana.usd_24h_change)}">${fmt(d.solana.usd)} ${chgF(d.solana.usd_24h_change)}</span>`;
    if (d.ethereum) document.getElementById('tk-eth').innerHTML = `<span class="ticker-val ${cls(d.ethereum.usd_24h_change)}">${fmt(d.ethereum.usd)} ${chgF(d.ethereum.usd_24h_change)}</span>`;
    if (d.bitcoin) document.getElementById('tk-btc').innerHTML = `<span class="ticker-val ${cls(d.bitcoin.usd_24h_change)}">${fmt(d.bitcoin.usd)} ${chgF(d.bitcoin.usd_24h_change)}</span>`;

    if (tokens.length) {
      const totalVol = tokens.reduce((s, t) => s + t.volRaw, 0);
      document.getElementById('tk-vol').innerHTML = `<span class="ticker-val">$${fmtVol(totalVol)}</span>`;
      document.getElementById('tk-pairs').innerHTML = `<span class="ticker-val up">${tokens.length} tracked</span>`;
    }
  } catch (err) { console.error('Ticker fetch failed:', err); }
}

// =============================================
// RANKING ‚Äî Composite Score
// =============================================
function rankTokens(list) {
  if (!list.length) return list;
  const maxVol = Math.max(...list.map(t => t.volRaw)) || 1;
  const maxLiq = Math.max(...list.map(t => t.liqRaw)) || 1;
  const maxMom = Math.max(...list.map(t => Math.abs(t.h24))) || 1;

  list.forEach(t => {
    const vol = (t.volRaw / maxVol) * 35;
    const mom = (Math.abs(t.h24) / maxMom) * 25;
    const liq = (t.liqRaw / maxLiq) * 20;
    const ai  = (t.ai / 100) * 15;
    const nb  = t.ageH <= 6 ? 5 : t.ageH <= 24 ? 3 : t.ageH <= 72 ? 1 : 0;
    const momAdj = t.h24 < 0 ? mom * 0.4 : mom;
    const pen = t.safe === 'danger' ? 0.7 : t.safe === 'warn' ? 0.9 : 1;
    t._score = (vol + momAdj + liq + ai + nb) * pen;
  });
  list.sort((a, b) => b._score - a._score);
  list.forEach((t, i) => t.rank = i + 1);
  return list;
}

// =============================================
// FORMAT HELPERS
// =============================================
function fmtPrice(p) {
  if (!p || p === 0) return '$0';
  if (p >= 1) return '$' + p.toFixed(2);
  if (p >= 0.001) return '$' + p.toFixed(5);
  const str = p.toFixed(20);
  const match = str.match(/^0\.0*[1-9]/);
  if (match && match[0].length - 2 > 4) {
    const zeros = match[0].length - 3;
    const sig = p.toFixed(zeros + 4).replace(/^0\.0+/, '');
    return `$0.0<sub>${zeros}</sub>${sig.slice(0, 4)}`;
  }
  return '$' + p.toExponential(2);
}
function fmtVol(v) { if (v >= 1e9) return (v/1e9).toFixed(1)+'B'; if (v >= 1e6) return (v/1e6).toFixed(1)+'M'; if (v >= 1e3) return (v/1e3).toFixed(0)+'K'; return v.toFixed(0); }
function fmtMc(v) { if (v >= 1e9) return (v/1e9).toFixed(2)+'B'; if (v >= 1e6) return (v/1e6).toFixed(1)+'M'; if (v >= 1e3) return (v/1e3).toFixed(0)+'K'; return v.toFixed(0); }
const chg = v => { if (v == null) return '<span class="chg" style="color:var(--text-muted)">‚Äî</span>'; const c = v >= 0 ? 'up' : 'down'; return `<span class="chg ${c}">${v >= 0 ? '+' : ''}${v.toFixed(2)}%</span>`; };
const aiHTML = s => { const c = s >= 70 ? 'high' : s >= 40 ? 'mid' : 'low'; return `<div class="ai-score"><div class="ai-bar"><div class="ai-fill ${c}" style="width:${s}%"></div></div><span class="ai-num ${c}">${s}</span></div>`; };
const safeHTML = s => { const m = { safe: '‚úì SAFE', warn: '‚ö† CAUTION', danger: '‚ò† DANGER' }; return `<span class="safety ${s}">${m[s]}</span>`; };

function tokenImgHTML(t, size) {
  const sz = size || 36;
  const g = gradients[(t.rank - 1) % gradients.length];
  if (t.imageUrl) {
    return `<img class="tk-img" src="${t.imageUrl}" width="${sz}" height="${sz}" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'" alt="${t.name}"><div class="tk-img-fallback" style="display:none;width:${sz}px;height:${sz}px;background:linear-gradient(135deg,${g[0]},${g[1]})">${t.tick[0]}</div>`;
  }
  return `<div class="tk-img-fallback" style="width:${sz}px;height:${sz}px;background:linear-gradient(135deg,${g[0]},${g[1]});font-size:${sz * .4}px">${t.tick[0]}</div>`;
}

function sparkSVG(t) {
  const vals = [t.h24 || 0, t.h6 || 0, t.h1 || 0, t.m5 || 0];
  const pts = [];
  for (let i = 0; i < 22; i++) {
    const seg = (i / 21) * 3;
    const idx = Math.min(Math.floor(seg), 2);
    const frac = seg - idx;
    const v = vals[idx] * (1 - frac) + vals[Math.min(idx + 1, 3)] * frac;
    pts.push(16 + v * 0.08 + (Math.random() - 0.5) * 2);
  }
  const mn = Math.min(...pts), mx = Math.max(...pts), range = mx - mn || 1;
  const d = pts.map((v, i) => `${(i / 21) * 88},${32 - ((v - mn) / range) * 28}`).join(' ');
  const up = (t.h24 || 0) >= 0;
  const col = up ? 'var(--accent)' : 'var(--red)';
  const ly = 32 - ((pts[21] - mn) / range) * 28;
  return `<div class="spark"><svg viewBox="0 0 88 32"><defs><linearGradient id="sg${t.rank}" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="${col}" stop-opacity="0.15"/><stop offset="100%" stop-color="${col}" stop-opacity="0"/></linearGradient></defs><polygon points="0,32 ${d} 88,32" fill="url(#sg${t.rank})"/><polyline points="${d}" fill="none" stroke="${col}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="88" cy="${ly}" r="2.5" fill="${col}" opacity="0.8"/></svg></div>`;
}

// =============================================
// RENDER TABLE
// =============================================
function render() {
  if (isLoading) {
    document.getElementById('tbody').innerHTML = '<tr><td colspan="14" style="text-align:center;padding:60px;color:var(--text-muted)"><div class="chart-loading" style="position:static;background:none"><div class="spinner"></div>Loading live data from DexScreener...</div></td></tr>';
    return;
  }
  document.getElementById('tbody').innerHTML = tokens.map((t, i) => `
    <tr onclick="openModal(${i})" style="animation-delay:${i * 0.04}s">
      <td><span class="rank ${t.rank <= 3 ? 'gold' : ''}">${t.rank}</span></td>
      <td><div class="tk">${tokenImgHTML(t)}<div><div class="tk-name">${t.name}${t.verified ? ' <span class="verified-badge">‚úì</span>' : ''}<span class="chain-dot" style="background:${t.cc}"></span>${t.ageH <= 6 ? '<span class="new-tag">NEW</span>' : ''}</div><div class="tk-sub">${t.tick}/${t.pair} ¬∑ ${t.age}</div></div></div></td>
      <td class="price">${fmtPrice(t.p)}</td>
      <td>${aiHTML(t.ai)}</td>
      <td>${sparkSVG(t)}</td>
      <td>${chg(t.m5)}</td>
      <td>${chg(t.h1)}</td>
      <td>${chg(t.h6)}</td>
      <td>${chg(t.h24)}</td>
      <td class="muted">$${fmtVol(t.volRaw)}</td>
      <td class="muted">$${fmtVol(t.liqRaw)}</td>
      <td class="muted">$${fmtMc(t.mcRaw)}</td>
      <td>${safeHTML(t.safe)}</td>
      <td><div class="qt"><button class="qt-btn qt-buy" onclick="event.stopPropagation()">BUY</button><button class="qt-btn qt-sell" onclick="event.stopPropagation()">SELL</button></div></td>
    </tr>
  `).join('');
}

// =============================================
// SIDEBAR
// =============================================
function renderHeat() {
  if (!tokens.length) return;
  document.getElementById('heatmap').innerHTML = tokens.slice(0, 12).map(t => {
    const i = Math.min(Math.abs(t.h24) / 100, 1);
    const bg = t.h24 >= 0 ? `rgba(0,219,164,${.1 + i * .45})` : `rgba(255,77,106,${.1 + i * .45})`;
    const v = Math.abs(t.h24) > 999 ? (t.h24 / 1000).toFixed(1) + 'K' : t.h24.toFixed(1);
    return `<div class="heat" style="background:${bg}"><span class="h-name">${t.tick}</span><span class="h-val">${t.h24 > 0 ? '+' : ''}${v}%</span></div>`;
  }).join('');
}
function renderWallets() {
  const w = [
    { a: '7xK2...mP9f', act: 'Bought $420K', t: 'buy', tok: tokens[0]?.tick || '???', pnl: '+$1.2M', pc: 'up', i: 'üêã' },
    { a: 'Dg4R...xT2w', act: 'Sold $180K', t: 'sell', tok: tokens[1]?.tick || '???', pnl: '+$89K', pc: 'up', i: 'ü¶à' },
    { a: '9pLk...vN8q', act: 'Bought $95K', t: 'buy', tok: tokens[2]?.tick || '???', pnl: '+$340K', pc: 'up', i: 'üê≥' },
    { a: 'Bx7m...hR3s', act: 'Sold $2.1M', t: 'sell', tok: tokens[3]?.tick || '???', pnl: '-$45K', pc: 'down', i: 'ü¶ë' },
  ];
  document.getElementById('wallets').innerHTML = w.map(x => `<div class="wallet-row"><div class="wallet-avi">${x.i}</div><div class="wallet-info"><div class="wallet-addr">${x.a}</div><div class="wallet-act ${x.t}">${x.act} of ${x.tok}</div></div><div class="wallet-pnl ${x.pc}">${x.pnl}</div></div>`).join('');
}
function renderDynamicFeed() {
  if (!tokens.length) return;
  const data = [];
  for (let i = 0; i < 10; i++) {
    const t = tokens[Math.floor(Math.random() * tokens.length)];
    const isBuy = Math.random() > 0.4;
    data.push({ t: `${i * 3 + Math.floor(Math.random() * 3)}s`, a: isBuy ? 'BUY' : 'SELL', c: isBuy ? 'buy' : 'sell', tok: t.tick, amt: `$${(Math.random() * 50 + 0.5).toFixed(1)}K` });
  }
  document.getElementById('feed').innerHTML = data.map(f => `<div class="feed-row"><span class="feed-time">${f.t}</span><span class="feed-type ${f.c}">${f.a}</span><span class="feed-tok">${f.tok}</span><span class="feed-amt">${f.amt}</span></div>`).join('');
}

// =============================================
// MODAL ‚Äî Token Detail
// =============================================
function openModal(i) {
  const t = tokens[i];
  if (!t) return;
  const g = gradients[(t.rank - 1) % gradients.length];

  // Banner
  const banner = document.getElementById('modalBanner');
  if (t.hasBanner && t.bannerUrl) {
    banner.innerHTML = `<div class="modal-banner-bg" style="background-image:url('${t.bannerUrl}')"></div><div class="modal-banner-overlay"></div>`;
  } else {
    banner.innerHTML = `<div class="unclaimed-banner"><div class="unclaimed-banner-text">üñºÔ∏è No banner uploaded ‚Äî <button class="claim-banner-btn" onclick="openClaim(event)">Claim This Token Profile</button></div></div>`;
  }

  // Icon
  const iconEl = document.getElementById('mIcon');
  if (t.imageUrl) {
    iconEl.outerHTML = `<img class="modal-icon" id="mIcon" src="${t.imageUrl}" width="56" height="56" style="border-radius:var(--radius-md);border:3px solid var(--bg-primary)" onerror="this.outerHTML='<div class=\\'modal-icon-fallback\\' id=\\'mIcon\\' style=\\'background:linear-gradient(135deg,${g[0]},${g[1]})\\'>${t.tick[0]}</div>'">`;
  } else {
    iconEl.outerHTML = `<div class="modal-icon-fallback" id="mIcon" style="background:linear-gradient(135deg,${g[0]},${g[1]})">${t.tick[0]}</div>`;
  }

  document.getElementById('mName').innerHTML = `${t.name} ${t.verified ? '<span class="verified-badge">‚úì</span>' : ''}`;
  document.getElementById('mPair').textContent = `${t.tick}/${t.pair} ¬∑ Solana`;
  document.getElementById('mPrice').innerHTML = fmtPrice(t.p);
  const ce = document.getElementById('mChg');
  ce.textContent = `${t.h24 >= 0 ? '+' : ''}${t.h24.toFixed(2)}%`;
  ce.className = `modal-chg ${t.h24 >= 0 ? 'up' : 'down'}`;

  // Social links from real API data
  const sb = document.getElementById('socialBar');
  let sh = '';
  const site = t.websites?.[0]?.url || t.websites?.[0];
  sh += site ? `<a class="social-link" href="${site}" target="_blank">üåê Website</a>` : '<a class="social-link empty">üåê Website</a>';
  const tw = t.socials?.find(s => s.type === 'twitter' || s.platform === 'twitter');
  sh += tw ? `<a class="social-link" href="${tw.url}" target="_blank">ùïè Twitter</a>` : '<a class="social-link empty">ùïè Twitter</a>';
  const tg = t.socials?.find(s => s.type === 'telegram' || s.platform === 'telegram');
  sh += tg ? `<a class="social-link" href="${tg.url}" target="_blank">‚úàÔ∏è Telegram</a>` : '<a class="social-link empty">‚úàÔ∏è Telegram</a>';
  sh += '<a class="social-link empty">üì∏ Instagram</a>';
  const dc = t.socials?.find(s => s.type === 'discord' || s.platform === 'discord');
  sh += dc ? `<a class="social-link" href="${dc.url}" target="_blank">üí¨ Discord</a>` : '<a class="social-link empty">üí¨ Discord</a>';
  sh += '<div class="social-sep"></div><button class="claim-profile-btn" onclick="openClaim(event)">‚ú® Claim & Edit Profile</button>';
  sb.innerHTML = sh;

  // ---- CHART: DexScreener Embed (reliable, works in iframes) ----
  const chartEl = document.getElementById('chartArea');
  if (t.pairAddress) {
    const embedUrl = `https://dexscreener.com/solana/${t.pairAddress}?embed=1&theme=dark&trades=0&info=0`;
    chartEl.innerHTML = `
      <div class="chart-loading" id="chartLoader"><div class="spinner"></div>Loading chart...</div>
      <iframe
        src="${embedUrl}"
        style="width:100%;height:100%;border:none;border-radius:var(--radius-lg)"
        loading="eager"
        allow="clipboard-write"
        onload="var cl=document.getElementById('chartLoader');if(cl)cl.style.display='none'"
      ></iframe>`;
  } else {
    chartEl.innerHTML = '<div class="chart-loading">Chart unavailable</div>';
  }

  // AI Analysis ‚Äî real data
  const rugProb = Math.max(2, 100 - t.ai);
  const rc = rugProb <= 20 ? 'var(--accent)' : rugProb <= 50 ? 'var(--orange)' : 'var(--red)';
  const rl = rugProb <= 20 ? 'Low Risk' : rugProb <= 50 ? 'Medium Risk' : 'High Risk';
  document.querySelector('.ai-box').innerHTML = `
    <div class="ai-box-title">üß† AI Token Analysis</div>
    <div class="ai-row"><span class="ai-row-label">Rug Probability</span><span class="ai-row-val" style="color:${rc}">${rugProb}% ‚Äî ${rl}</span></div>
    <div class="ai-row"><span class="ai-row-label">24h Volume</span><span class="ai-row-val" style="color:var(--text-primary)">$${fmtVol(t.volRaw)}</span></div>
    <div class="ai-row"><span class="ai-row-label">Liquidity</span><span class="ai-row-val" style="color:${t.liqRaw > 100000 ? 'var(--accent)' : 'var(--orange)'}">$${fmtVol(t.liqRaw)}</span></div>
    <div class="ai-row"><span class="ai-row-label">24h Transactions</span><span class="ai-row-val" style="color:var(--text-primary)">${(t.txns24 || 0).toLocaleString()}</span></div>
    <div class="ai-row"><span class="ai-row-label">Buy/Sell Ratio</span><span class="ai-row-val" style="color:${t.buyRatio > 0.5 ? 'var(--accent)' : 'var(--red)'}">${((t.buyRatio || 0.5) * 100).toFixed(0)}% buys</span></div>
    <div class="ai-row"><span class="ai-row-label">Market Cap</span><span class="ai-row-val" style="color:var(--text-primary)">$${fmtMc(t.mcRaw)}</span></div>
    <div class="ai-row"><span class="ai-row-label">Pair Age</span><span class="ai-row-val" style="color:var(--text-primary)">${t.age}</span></div>
    <div class="dist">
      <div class="input-label" style="margin-bottom:10px">RADAR Safety Score</div>
      <div class="dist-row"><span class="dist-label">Score</span><div class="dist-bar"><div class="dist-fill" style="width:${t.ai}%;background:${t.ai >= 70 ? 'var(--accent)' : t.ai >= 40 ? 'var(--orange)' : 'var(--red)'}"></div></div><span class="dist-pct">${t.ai}</span></div>
    </div>`;

  document.getElementById('modal').classList.add('active');
}

function closeModal() {
  document.getElementById('modal').classList.remove('active');
  document.getElementById('chartArea').innerHTML = '';
}
document.getElementById('modal').addEventListener('click', e => { if (e.target.id === 'modal') closeModal(); });

// Claim Profile Modal
function openClaim(e) { e && e.stopPropagation(); document.getElementById('claimModal').classList.add('active'); }
function closeClaim() { document.getElementById('claimModal').classList.remove('active'); }
document.getElementById('claimModal').addEventListener('click', e => { if (e.target.id === 'claimModal') closeClaim(); });

// Trade tabs
function setTab(el, type) {
  document.querySelectorAll('.t-tab').forEach(t => t.classList.remove('buy-active', 'sell-active'));
  el.classList.add(type === 'buy' ? 'buy-active' : 'sell-active');
  const btn = document.getElementById('execBtn');
  if (type === 'sell') { btn.textContent = '‚ö° Quick Sell'; btn.className = 'exec-btn'; btn.style.background = 'var(--red)'; btn.style.color = 'white'; btn.style.boxShadow = '0 4px 20px rgba(255,77,106,0.2)'; }
  else { btn.textContent = '‚ö° Quick Buy'; btn.className = 'exec-btn buy'; btn.style = ''; }
}

// Interactive filters
document.querySelectorAll('.nav-item').forEach(n => n.addEventListener('click', function () { document.querySelectorAll('.nav-item').forEach(x => x.classList.remove('active')); this.classList.add('active'); }));
document.querySelectorAll('.chip').forEach(c => c.addEventListener('click', function () { this.closest('.chip-group').querySelectorAll('.chip').forEach(x => x.classList.remove('active')); this.classList.add('active'); }));
document.querySelectorAll('.tf-btn').forEach(b => b.addEventListener('click', function () { this.closest('.tf-group').querySelectorAll('.tf-btn').forEach(x => x.classList.remove('active')); this.classList.add('active'); }));

// =============================================
// INIT & AUTO-REFRESH
// =============================================
render();
renderWallets();
fetchTokens();
fetchTickerPrices();

// Refresh: tokens every 30s, ticker every 60s, feed every 15s
setInterval(fetchTokens, 30000);
setInterval(fetchTickerPrices, 60000);
setInterval(renderDynamicFeed, 15000);
</script>
</body>
</html>
